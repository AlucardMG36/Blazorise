<Project Sdk="Microsoft.NET.Sdk.Razor">

	<Import Project="..\..\Build\Blazorise.props" />

	<PropertyGroup>
		<PackageTags>blazorise blazor components</PackageTags>
		<BlazorWebAssemblyLoadAllGlobalizationData>true</BlazorWebAssemblyLoadAllGlobalizationData>
	</PropertyGroup>

	<PropertyGroup>
		<GenerateDocumentationFile>true</GenerateDocumentationFile>
	</PropertyGroup>

	<ItemGroup>
		<None Include="..\..\LICENSE.md" Pack="true" Visible="false" PackagePath="" />
		<None Include="..\..\NuGet\Blazorise.png" Pack="true" Visible="false" PackagePath="" />
		<None Include="bundleconfig.json" />
		<None Include="webcompilerconfiguration.*" />
	</ItemGroup>

	<ItemGroup>
		<None Remove="Resources\Localization\**\*.json" />
		<EmbeddedResource Include="Resources\Localization\**\*.json" />
		<None Remove="Resources\Localization\*.json" />
		<EmbeddedResource Include="Resources\Localization\*.json" />
	</ItemGroup>

	<ItemGroup>
		<Content Remove="bundleconfig.json" />
		<Content Remove="webcompilerconfiguration.*" />
		<Content Remove="Scripts\*.js" />
	</ItemGroup>

	<ItemGroup>
		<PackageReference Include="BuildBundlerMinifier" Version="3.2.449" PrivateAssets="All" />
	</ItemGroup>
	
  <Target Name="ToolRestore" BeforeTargets="PreBuildEvent">
      <Exec Command="dotnet tool restore" StandardOutputImportance="high" />
  </Target>

	<Target Name="CompileStaticAssets" AfterTargets="ToolRestore;Build">
    <Exec Command="dotnet webcompiler -r Styles/blazorise.scss -c webcompilerconfiguration.json" StandardOutputImportance="high" />
	<Exec Command="dotnet webcompiler -r Styles/blazorise.scss -c webcompilerconfiguration.min.json" StandardOutputImportance="high" />
	<Exec Command="dotnet webcompiler -r wwwroot/blazorise.js -c webcompilerconfiguration.min.json" StandardOutputImportance="high" />
  </Target>

	<ItemGroup>
		<Watch Include="**\*.scss;**\*.js" Exclude="wwwroot\**\*" />
	</ItemGroup>

	<ItemGroup>
	  <Watch Remove="Scripts\button.js" />
	  <Watch Remove="Scripts\datePicker.js" />
	  <Watch Remove="Scripts\dependencies.js" />
	  <Watch Remove="Scripts\fileEdit.js" />
	  <Watch Remove="Scripts\functions.js" />
	  <Watch Remove="Scripts\main.js" />
	  <Watch Remove="Scripts\numericEdit.js" />
	  <Watch Remove="Scripts\table.js" />
	  <Watch Remove="Scripts\textEdit.js" />
	  <Watch Remove="Scripts\timePicker.js" />
	  <Watch Remove="Scripts\tooltip.js" />
	</ItemGroup>
</Project>
